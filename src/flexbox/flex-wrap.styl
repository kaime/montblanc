-old-flex-wrap(mode, args...)
  if has-support('ie < 11', 'ie-mobile < 11')
    vendorize('flex-wrap', arguments, (ms), false)

  // Old spec
  if has-support(
      'chrome < 21',
      'safari < 6.1',
      'ios-safari < 7',
      'android-browser < 4.4',
      'blackberry-browser < 10',
      'firefox < 28',
      'android-firefox'
    )

    reverse = false

    // Warning: wrap-reverse is not supported in old syntax
    if mode is nowrap
      lines = single
    else if mode is wrap
      lines = multiple
    else
      lines = mode

    vendors = ()

    if has-support('firefox < 28', 'android-firefox')
      push(vendors, moz)

    if has-support(
        'chrome < 21',
        'safari < 6.1',
        'ios-safari < 7',
        'android-browser < 4.4',
        'blackberry-browser < 10'
      )
      push(vendors, webkit)

    vendorize('box-lines', (lines args), vendors, false)

flex-wrap(mode, args...)
  -old-flex-wrap(mode, args)

  // New syntax
  vendors = ()

  if has-support('firefox < 22')
    push(vendors, moz)

  if has-support(
      'chrome < 29',
      'safari',
      'opera < 17',
      'ios-safari',
      'blackberry-browser'
    )
    push(vendors, webkit)

  vendorize('flex-wrap', arguments, vendors)